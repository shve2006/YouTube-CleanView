// ==UserScript==
// @name         YouTube - Remove ALL Shorts Elements
// @namespace    http://tampermonkey.net/
// @version      2.0
// @description  Remove Shorts from sidebar, top nav, homepage, feed
// @match        https://www.youtube.com/*
// @grant        none
// @run-at       document-idle
// ==/UserScript==

(function () {
    'use strict';

    const SHORTS_SELECTORS = [
        'a[href^="/shorts"]',
        'ytd-guide-entry-renderer a[href^="/shorts"]',
        'ytd-mini-guide-entry-renderer a[href^="/shorts"]',
        'ytd-rich-shelf-renderer:has(a[href^="/shorts"])',
        'ytd-video-renderer:has(a[href^="/shorts"])',
        'ytd-rich-grid-media:has(a[href^="/shorts"])',
        '[aria-label="Shorts"]',
        '[title="Shorts"]',
        'ytd-reel-shelf-renderer',
        'ytd-reel-item-renderer'
    ].join(', ');

    function removeShorts() {
        document.querySelectorAll(SHORTS_SELECTORS).forEach(el => {
            el.remove();
        });

        // Hide entire Shorts shelf by text (fallback)
        document.querySelectorAll('ytd-rich-shelf-renderer').forEach(shelf => {
            const text = shelf.innerText || '';
            if (text.toLowerCase().includes('shorts')) {
                shelf.remove();
            }
        });
    }

    // Run on load and DOM changes
    removeShorts();
    const observer = new MutationObserver(removeShorts);
    observer.observe(document.body, { childList: true, subtree: true });
})();
