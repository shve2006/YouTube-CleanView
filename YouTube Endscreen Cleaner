// ==UserScript==
// @name         YouTube Endscreen (Lightweight)
// @namespace    http://tampermonkey.net/
// @version      1.0
// @description  Remove right sidebar recommendations and endscreen suggestions without slowing YouTube
// @author       You
// @match        https://www.youtube.com/*
// @grant        none
// ==/UserScript==

(function() {
    'use strict';

    function cleanYouTube() {
        // Remove right sidebar
        const sidebar = document.getElementById('secondary');
        if (sidebar) sidebar.remove();

        // Remove endscreen suggestions
        const endscreen = document.querySelectorAll('.ytp-endscreen-content, .ytp-ce-element');
        if (endscreen.length) {
            endscreen.forEach(el => el.remove());
        }
    }

    // Run once after navigation
    document.addEventListener('yt-navigate-finish', () => {
        cleanYouTube();

        // Attach to video end
        const video = document.querySelector('video');
        if (video) {
            video.addEventListener('ended', cleanYouTube, { once: false });
        }
    });
})();
